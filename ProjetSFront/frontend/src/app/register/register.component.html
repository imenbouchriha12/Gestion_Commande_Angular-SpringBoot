<section class="text-center">
  <!-- Background image -->
  <div class="p-5 bg-image" style="
        background-image: url('/assets/images/vet3.avif');
        height: 300px;">
  </div>

  <div class="card mx-4 mx-md-5 shadow-5-strong bg-body-tertiary" style="
        margin-top: -100px;
        backdrop-filter: blur(30px);">
    <div class="card-body py-5 px-md-5">

      <div class="row d-flex justify-content-center">
        <div class="col-lg-8">
          <h2 class="fw-bold mb-5">S'inscrire maintenant</h2>

<form [formGroup]="registerClient" (ngSubmit)="register(registerClient.value)">
  <div class="row">
    <!-- Nom -->
    <div class="col-md-6 mb-4">
      <label class="form-label">Nom</label>
      <input type="text" class="form-control" formControlName="firstname"
        [ngClass]="{
          'is-invalid': registerClient.get('firstname')?.invalid && (registerClient.get('firstname')?.dirty || registerClient.get('firstname')?.touched),
          'is-valid': registerClient.get('firstname')?.valid
        }" />
      <div class="invalid-feedback">Le nom est obligatoire</div>
    </div>

    <!-- Prénom -->
    <div class="col-md-6 mb-4">
      <label class="form-label">Prénom</label>
      <input type="text" class="form-control" formControlName="lastname"
        [ngClass]="{
          'is-invalid': registerClient.get('lastname')?.invalid && (registerClient.get('lastname')?.dirty || registerClient.get('lastname')?.touched),
          'is-valid': registerClient.get('lastname')?.valid
        }" />
      <div class="invalid-feedback">Le prénom est obligatoire</div>
    </div>
  </div>

  <!-- Email -->
  <div class="mb-4">
    <label class="form-label">Email</label>
    <input type="email" class="form-control" formControlName="email"
      [ngClass]="{
        'is-invalid': registerClient.get('email')?.invalid && (registerClient.get('email')?.dirty || registerClient.get('email')?.touched),
        'is-valid': registerClient.get('email')?.valid
      }" />
<div class="invalid-feedback" *ngIf="registerClient.get('email')?.errors?.['required']">
  L'email est obligatoire
</div>
<div class="invalid-feedback" *ngIf="registerClient.get('email')?.errors?.['email']">Email invalide</div>
  </div>

  <!-- Adresse -->
  <div class="mb-4">
    <label class="form-label">Adresse</label>
    <input type="text" class="form-control" formControlName="address" />
  </div>

  <!-- Téléphone -->
  <div class="mb-4">
    <label class="form-label">Téléphone</label>
    <input type="text" class="form-control" formControlName="telephone"
      [ngClass]="{
        'is-invalid': registerClient.get('telephone')?.invalid && (registerClient.get('telephone')?.dirty || registerClient.get('telephone')?.touched),
        'is-valid': registerClient.get('telephone')?.valid
      }" />
    <div class="invalid-feedback">Le téléphone est obligatoire</div>
  </div>

  <!-- Date de naissance -->
  <div class="mb-4">
    <label class="form-label">Date de naissance</label>
    <input type="date" class="form-control" formControlName="datebirth" />
  </div>

  <!-- Mot de passe -->
  <div class="mb-4 position-relative">
    <label class="form-label">Mot de passe</label>
    <input [type]="passwordType" class="form-control" formControlName="password"
      [ngClass]="{
        'is-invalid': registerClient.get('password')?.invalid && (registerClient.get('password')?.dirty || registerClient.get('password')?.touched),
        'is-valid': registerClient.get('password')?.valid
      }" />
              <!-- Message d'erreur pour le champ 'Mot de Passe' obligatoire -->
<div class="invalid-feedback" *ngIf="registerClient.get('password')?.hasError('required') && registerClient.get('password')?.touched">
  Le Mot de Passe est obligatoire
</div>

<!-- Message d'erreur pour le format du mot de passe -->
<div class="invalid-feedback" *ngIf="registerClient.get('password')?.hasError('pattern') && registerClient.get('password')?.touched">
  Le format de mot de passe est invalide
</div>


    <button type="button" class="btn btn-sm btn-link position-absolute top-0 end-0 mt-2 me-2"
      (click)="togglePasswordVisibility()">
      <i [ngClass]="passwordType === 'password' ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
    </button>
  </div>

  <!-- Confirmation mot de passe -->
  <div class="mb-4">
    <label class="form-label">Confirmer le mot de passe</label>
    <input [type]="passwordType" class="form-control" formControlName="passwordverif"
      [ngClass]="{
        'is-invalid': registerClient.get('passwordverif')?.invalid && (registerClient.get('passwordverif')?.dirty || registerClient.get('passwordverif')?.touched),
        'is-valid': registerClient.get('passwordverif')?.valid
      }" />
<div class="text-danger mt-1" *ngIf="registerClient.get('password')?.touched && registerClient.get('passwordverif')?.touched && registerClient.get('password')?.value !== registerClient.get('passwordverif')?.value">
  Les mots de passe ne correspondent pas.
</div>

  </div>
<button type="submit" class="btn btn-primary btn-block mb-4" 
    style="background-color: #d0809b; border-color: #d0809b;">
    S'inscrire
</button>

</form>

        </div>
      </div>
    </div>
  </div>
</section>
